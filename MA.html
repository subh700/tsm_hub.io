<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MA Model - TSM Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-slate-100 text-slate-800">
<!-- Enhanced Navigation for Model Pages -->
<nav class="bg-white shadow-lg sticky top-0 z-50 mb-8">
    <div class="container mx-auto px-6 py-4">
        <div class="flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <a href="index.html" class="text-2xl font-bold text-blue-600">üè† TSF Hub</a>
                <div class="hidden md:flex items-center space-x-1 bg-gray-100 rounded-lg p-1">
                    <a href="models.html" class="nav-link px-3 py-2 rounded">üìö All Models</a>
                    <a href="comparison.html" class="nav-link px-3 py-2 rounded">üìä Compare</a>
                </div>
            </div>
            
            <div class="flex items-center space-x-3">
                <!-- AI Features Quick Access -->
                <div class="hidden md:flex items-center space-x-2">
                    <a href="model-selector.html" class="bg-blue-500 text-white px-3 py-2 rounded-lg hover:bg-blue-600 text-sm flex items-center">
                        ü§ñ AI Recommender
                    </a>
                    <a href="chat.html" class="bg-green-500 text-white px-3 py-2 rounded-lg hover:bg-green-600 text-sm flex items-center">
                        üí¨ AI Assistant
                    </a>
                    <a href="forecast-simulator.html?model={{MODEL_NAME}}" class="bg-purple-500 text-white px-3 py-2 rounded-lg hover:bg-purple-600 text-sm flex items-center">
                        üöÄ Try in Simulator
                    </a>
                </div>
                
                <!-- Mobile menu button -->
                <button class="md:hidden p-2" onclick="toggleMobileMenu()">‚ò∞</button>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden mt-4 pb-4 border-t">
            <div class="flex flex-col space-y-2">
                <a href="models.html" class="text-gray-600 hover:text-blue-600 py-2">üìö All Models</a>
                <a href="comparison.html" class="text-gray-600 hover:text-blue-600 py-2">üìä Compare Models</a>
                <a href="model-selector.html" class="text-gray-600 hover:text-blue-600 py-2">ü§ñ AI Recommender</a>
                <a href="chat.html" class="text-gray-600 hover:text-blue-600 py-2">üí¨ AI Assistant</a>
                <a href="forecast-simulator.html" class="text-gray-600 hover:text-blue-600 py-2">üöÄ Simulator</a>
            </div>
        </div>
    </div>
</nav>

    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="index.html" class="text-2xl font-bold text-slate-900">TSM Hub</a>
            <div class="hidden md:flex space-x-6 items-center">
                <a href="index.html" class="nav-link">Home</a>
                <a href="concepts.html" class="nav-link">Concepts</a>
                <a href="models.html" class="nav-link active">Models</a>
                <a href="comparison.html" class="nav-link">Comparison</a>
            </div>
            <button id="mobile-menu-button" class="md:hidden p-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                </svg>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden">
            <a href="index.html" class="block py-2 px-4 text-sm hover:bg-slate-200">Home</a>
            <a href="concepts.html" class="block py-2 px-4 text-sm hover:bg-slate-200">Concepts</a>
            <a href="models.html" class="block py-2 px-4 text-sm hover:bg-slate-200">Models</a>
            <a href="comparison.html" class="block py-2 px-4 text-sm hover:bg-slate-200">Comparison</a>
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        <div class="bg-white p-8 rounded-lg shadow-md">
            <header class="border-b-2 border-slate-200 pb-6 mb-8">
                 <a href="models.html" class="text-blue-600 hover:underline mb-4 inline-block">&larr; Back to Model Library</a>
                <h1 class="text-4xl md:text-5xl font-bold text-slate-900">MA Model</h1>
                <p class="mt-2 text-lg text-slate-600">Moving Average Model</p>
            </header>
            
            <article class="prose max-w-none">
                <section>
                    <h2>Overview</h2>
                    <p>The Moving Average (MA) model is a statistical approach for time series forecasting that models the current value of a series as a linear combination of past forecast errors (also known as white noise error terms). Unlike Autoregressive (AR) models which use past observations, MA models primarily capture the impact of random shocks or unexpected events from the past on the current value of the series. It's another fundamental building block of ARIMA models.</p>
                    
                    <h2>Architecture & Components</h2>
                    <p>An MA model is defined by a single parameter, <code>q</code>, which is the order of the moving average. This parameter specifies the number of lagged forecast errors that are included in the model.</p>
                    <h3>Mathematical Formulation</h3>
                    <p>An MA(q) model is mathematically expressed as:</p>
                    <p class="font-mono text-center bg-slate-100 p-4 rounded-md">
                        $ Y_t = c + \epsilon_t + \theta_1 \epsilon_{t-1} + \theta_2 \epsilon_{t-2} + ... + \theta_q \epsilon_{t-q} $
                    </p>
                    <p>Where:</p>
                    <ul>
                        <li>$Y_t$ is the value of the time series at time $t$.</li>
                        <li>$c$ is a constant (intercept).</li>
                        <li>$\epsilon_t$ is the white noise error term at time $t$.</li>
                        <li>$\epsilon_{t-1}, \epsilon_{t-2}, ..., \epsilon_{t-q}$ are past forecast errors up to order $q$.</li>
                        <li>$\theta_1, \theta_2, ..., \theta_q$ are the moving average coefficients, representing the weights of the past error terms.</li>
                    </ul>
                    <p>For an MA(1) model, the current value depends only on the current and immediately preceding error term: $Y_t = c + \epsilon_t + \theta_1 \epsilon_{t-1}$.</p>
                </section>
                
                <section>
                    <h2>When to Use MA Models</h2>
                    <p>MA models are suitable for:</p>
                    <ul>
                        <li>Time series data that is stationary. Like AR models, if the data is non-stationary, it typically needs differencing.</li>
                        <li>Data where short-term dependencies or "shocks" are significant.</li>
                        <li>When the autocorrelation function (ACF) of the series cuts off after a few lags, while the partial autocorrelation function (PACF) trails off.</li>
                        <li>As a component in more complex models like ARIMA.</li>
                    </ul>
                </section>

                <section>
                    <h2>Pros and Cons</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <h3 class="text-lg font-semibold mb-2 text-green-600">Pros</h3>
                            <ul class="list-disc list-inside text-slate-600 space-y-1">
                                <li><strong>Captures Short-Term Dependencies:</strong> Effective at modeling the impact of recent random shocks.</li>
                                <li><strong>Relatively Simple:</strong> Conceptually straightforward, especially for low orders.</li>
                                <li><strong>Foundation for Complex Models:</strong> A key component of ARIMA and SARIMA models.</li>
                                <li><strong>Provides Confidence Intervals:</strong> Allows for quantification of forecast uncertainty.</li>
                            </ul>
                        </div>
                        <div>
                            <h3 class="text-lg font-semibold mb-2 text-red-600">Cons</h3>
                            <ul class="list-disc list-inside text-slate-600 space-y-1">
                                <li><strong>Assumes Stationarity:</strong> Requires the time series to be stationary.</li>
                                <li><strong>Does Not Handle Trend or Seasonality Directly:</strong> Cannot directly model trends or seasonal patterns.</li>
                                <li><strong>Less Interpretable for Direct Dependencies:</strong> Unlike AR models, the coefficients relate to unobservable error terms, making direct interpretation of how past values influence current ones less intuitive.</li>
                                <li><strong>Limited to Linear Relationships:</strong> Struggles with non-linear dependencies.</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section>
                    <h2>Example Implementation</h2>
                    <p>In `statsmodels`, an MA model is typically implemented as a special case of the ARIMA model where the AR (p) and differencing (d) orders are set to zero. Here's an example of fitting an MA(5) model.</p>
                    <div class="code-block my-4">
                        <pre class="bg-yellow-100 rounded p-4 text-sm mb-2 overflow-x-auto"><code class="language-python">
# Import necessary libraries
import pandas as pd
import numpy as np
from statsmodels.tsa.arima.model import ARIMA
import matplotlib.pyplot as plt

# 1. Generate sample data (MA(1) process for demonstration)
# Y_t = epsilon_t + 0.5 * epsilon_{t-1}
np.random.seed(42)
n_samples = 100
errors = np.random.normal(0, 1, n_samples + 1) # Need one extra error for first value
data = np.zeros(n_samples)
for i in range(n_samples):
    data[i] = errors[i+1] + 0.5 * errors[i] # Simple MA(1) process

series = pd.Series(data, index=pd.date_range(start='2020-01-01', periods=n_samples, freq='D'))

# 2. Split data into train and test
train_size = 80
train, test = series[0:train_size], series[train_size:n_samples]

# 3. Fit the MA model (as ARIMA(0,0,q))
# order=(0,0,5) means p=0 (no AR), d=0 (no differencing), q=5 (MA order 5)
model = ARIMA(train, order=(0,0,5))
model_fit = model.fit()

# 4. Make a forecast
forecast_steps = len(test)
forecast = model_fit.forecast(steps=forecast_steps)

# 5. Display the forecast (conceptual, actual plotting requires matplotlib setup)
print("MA Model Summary (as ARIMA(0,0,5)):")
print(model_fit.summary())
print("\nMA Model Forecast:")
print(forecast)

# Example plotting (uncomment and run in a Python environment with matplotlib)
# plt.figure(figsize=(12, 6))
# plt.plot(train.index, train, label='Training Data')
# plt.plot(test.index, test, label='Actual Data', color='orange')
# plt.plot(forecast.index, forecast, label='MA Forecast', color='green', linestyle='--')
# plt.title('MA(5) Model Forecast')
# plt.xlabel('Date')
# plt.ylabel('Value')
# plt.legend()
# plt.grid(True)
# plt.show()
                        </code></pre>
                    </div>
                </section>
                
                <section>
                    <h2>Dependencies & Resources</h2>
                    <p><strong>Dependencies:</strong> <code>pandas</code>, <code>numpy</code>, <code>statsmodels</code>, <code>matplotlib</code> (for plotting).</p>
                    <ul class="list-disc list-inside space-y-2">
                        <li><a href="https://www.statsmodels.org/stable/generated/statsmodels.tsa.arima.model.ARIMA.html" target="_blank" rel="noopener noreferrer">Statsmodels ARIMA Documentation (for MA) ‚Üó</a></li>
                        <li><a href="https://otexts.com/fpp2/MA.html" target="_blank" rel="noopener noreferrer">Forecasting: Principles and Practice - MA Models ‚Üó</a></li>
                    </ul>
                </section>
            </article>
        </div>
    </main>

    <footer class="text-center p-6 bg-slate-200 mt-12">
        <p class="text-slate-600 text-sm">TSM Hub: An Interactive Resource for Time Series Analysis</p>
    </footer>

    <script src="main.js"></script>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>
</html>
